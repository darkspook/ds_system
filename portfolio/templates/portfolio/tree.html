{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>AGUILAR - ARROYO Family Tree</title>
  <!-- Favicon -->
  <link rel="icon" type="image/png" href="{% static 'ictrequest/assets/logo.png' %}">
  <!-- Custom CSS-->
  <link rel="stylesheet" href="{% static 'ictrequest/css/my_styles.css' %}">
  <!-- BS CSS-->
  <link rel="stylesheet" href="{% static 'ictrequest/css/bootstrap.min.css' %}">
  <!-- Fontawesom CSS-->
  <link rel="stylesheet" href="{% static 'ictrequest/css/font-awesome.min.css' %}">
  <!-- Page Template CSS-->
  <link rel="stylesheet" href="{% static 'ictrequest/css/template_styles.css' %}">

  <link rel="stylesheet" href="{% static 'portfolio/css/jquery.orgchart.css' %}">
  <style type="text/css">
    .body-wrapper { background: url("{% static 'portfolio/img/tree-bg.png' %}") center;}

    .navbar-brand { margin: auto; }

    #chart-container {
      position: relative;
      height: 600px;
      border: 1px solid #000;
      margin: 0.5rem;
      overflow: auto;
      text-align: center;
    }
    .orgchart .nodes {
      justify-content: center;
    }
    .orgchart .node .title {
      width: auto!important;
      min-width: 130px;
    }
    .content {
      width: auto!important;
      height: auto!important;
      min-width: 130px;
      padding: 0 .5em;
    }
    .orgchart .node .title .parentNodeSymbol {
      margin-top: 2px;
      margin-left: 2px;
    }
    /*https://htmlcolorcodes.com/colors/*/
    .orgchart { background: #fff; border-radius: 5px; }
    .orgchart td.left, .orgchart td.right, .orgchart td.top { border-color: #aaa; }
    .orgchart td>.down { background-color: #aaa; }
    .orgchart .greatgrand .title { background-color: #008000; }
    .orgchart .greatgrand .content { border-color: #008000; }
    .orgchart .grand1 .title { background-color: #0000FF; }
    .orgchart .grand1 .content { border-color: #0000FF; }
    .orgchart .pibling1 .title { background-color: #00BFFF; }
    .orgchart .pibling1 .content { border-color: #00BFFF; }
    .orgchart .cousin1 .title { background-color: #0047AB; }
    .orgchart .cousin1 .content { border-color: #0047AB; }
    .orgchart .nibling1 .title { background-color: #7393B3; }
    .orgchart .nibling1 .content { border-color: #7393B3; }
    .orgchart .grand2 .title { background-color: #FFA500; }
    .orgchart .grand2 .content { border-color: #FFA500; }
    .orgchart .pibling2 .title { background-color: #FF6347; }
    .orgchart .pibling2 .content { border-color: #FF6347; }
    .orgchart .cousin2 .title { background-color: #EC5800; }
    .orgchart .cousin2 .content { border-color: #EC5800; }
    .orgchart .nibling2 .title { background-color: #8B4000; }
    .orgchart .nibling2 .content { border-color: #8B4000; }
    .orgchart .grand3 .title { background-color: #FFD700; }
    .orgchart .grand3 .content { border-color: #FFD700; }
    .orgchart .pibling3 .title { background-color: #d4ac0d; }
    .orgchart .pibling3 .content { border-color: #d4ac0d; }
    .orgchart .cousin3 .title { background-color: #E49B0F; }
    .orgchart .cousin3 .content { border-color: #E49B0F; }
    .orgchart .nibling3 .title { background-color: #8B8000; }
    .orgchart .nibling3 .content { border-color: #8B8000; }
    .orgchart .grand4 .title { background-color: #FF0000; }
    .orgchart .grand4 .content { border-color: #FF0000; }
    .orgchart .pibling4 .title { background-color: #D2042D; }
    .orgchart .pibling4 .content { border-color: #D2042D; }
    .orgchart .cousin4 .title { background-color: #8B0000; }
    .orgchart .cousin4 .content { border-color: #8B0000; }
    .orgchart .nibling4 .title { background-color: #DC143C; }
    .orgchart .nibling4 .content { border-color: #DC143C; }

  </style>
</head>

<body class="body-wrapper bg-dark">
  <section>
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <div class="col-md-12">
            <nav class="navbar navbar-expand-lg navbar-dark">
              <a class="navbar-brand" href="#">
                <img src="{% static 'portfolio/img/a-a.png' %}" height="60px"> FAMILY TREE
              </a>
            </nav>
          </div>
        </div>
      </div>
    </div>
  </section>
  <section class="dashboard section" style="padding: 0;">
    <div id="chart-container" style="border-radius: 5px;"></div>  
    <!-- Container Start -->
    <div class="container">
      <div class="alert alert-warning" role="alert">
        Best viewed on a computer screen or large displays.
      </div>
    </div>
    <!-- Container End -->
  </section>
  <!-- Footer Bottom -->
  <div style="padding-bottom: 100px"></div>
  <footer class="footer-bottom">
    <!-- Container Start -->
    <div class="container">
    <div class="row">
      <div class="col-sm-6 col-12">
        <!-- Copyright -->
        <div class="copyright">
          <p><img src="{% static 'users/assets/logo.png' %}" width="21px" alt=""> &copy; 2023-<script>var CurrentYear=new Date().getFullYear();document.write(CurrentYear)</script> AGUILAR - ARROYO Family Tree.</script></p>
        </div>
      </div>
      <div class="col-sm-6 col-12">
      </div>
    </div>
    </div>
    <!-- Container End -->
    <!-- To Top -->
    <div class="top-to">
      <a id="top" class="" href="#"><i class="fa fa-angle-up"></i></a>
    </div>
  </footer>
  <!-- jQuery first, then Popper.js, then Bootstrap JS -->
  <!-- JQuery JS -->
  <script src="{% static 'ictrequest/js/jquery.min.js' %}"></script>
  <script src="{% static 'portfolio/js/jquery.orgchart.js' %}"></script>
  <script type="text/javascript">
  $(function() {
    var datasource =  {{json_tree | safe}};

    var oc = $('#chart-container').orgchart({
      // 'visibleLevel': 2,
      'pan': true,
      'nodeContent': 'fullname',
      'data' : datasource,
      'zoom': true,
      'verticalLevel': 4,
      'visibleLevel': 4,
      // 'createNode': function($node, data) { // center on select node
      //     $node.on('click', function(event) {
      //       if (!$(event.target).is('.edge, .toggleBtn')) {
      //         var $this = $(this);
      //         var $chart = $this.closest('.orgchart');
      //         var newX = window.parseInt(($chart.outerWidth(true)/8) - ($this.offset().left - $chart.offset().left) - ($this.outerWidth(true)/8));
      //         var newY = window.parseInt(($chart.outerHeight(true)/8) - ($this.offset().top - $chart.offset().top) - ($this.outerHeight(true)/8));
      //         $chart.css('transform', 'matrix(1, 0, 0, 1, ' + newX + ', ' + newY + ')');
      //       }
      //     });
      //   }
    });
    //PTZ
    oc.$chartContainer.on('touchmove', function(event) {
      event.preventDefault();
    });
  });
  </script>
</body>
</html>